<?xml version="1.0" encoding="UTF-8" ?>
<!-- mapper DTD 선언 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- SQL Mapping -->
<mapper namespace="tales.akiba.seldesian.dao.UserMapper">		
	
	<!-- 아이템 추가 -->
	 <insert id="ItemInsert">  
       INSERT INTO TLB_ITEM_DATA  (
		    EMAIL,
		    USER_NICKNAME,
		    USER_PASSWORD,
		    USER_COMENT
		) VALUES (
		    #{ email     },
		    #{ user_nickname  },
		    #{ user_password  },
		    #{ user_coment  }
		)         
   </insert>
   
   <!-- 아이템리스트 -->
   <select id="getItemList"
           resultType="tales.akiba.seldesian.vo.ItemVo">
      SELECT  
        EMAIL,
        USER_NICKMAME,
        TO_CHAR(INDATE, 'YYYY-MM-DD') USER_INDATE
	  FROM  TLB_ITEM_DATA 
	  ORDER BY ITEM_NO
   </select>
   
   <!-- 아이템 정보 보기 -->
   <select id="getItem"
           resultType="tales.akiba.seldesian.dto.ItemDto">
      SELECT  
        EMAIL,
        USER_NICKMAME,
        USER_COMENT,
        TO_CHAR(INDATE, 'YYYY-MM-DD') USER_INDATE,
        TO_CHAR(INDATE, 'YYYY-MM-DD') USER_EDITDATE,
	  FROM  TLB_ITEM_DATA 
      WHERE  ITEM_NO = #{item_no}
   </select>
   
   <!-- 아이템삭제 -->
   <delete id="ItemDelete">
      
      DELETE 
        FROM   TLB_ITEM_DATA
        WHERE  ITEM_NO = #{item_no}
   
   </delete>
 
   <!-- 아이템수정 -->
   <update id="ItemUpdate">
   
   	   UPDATE  TLB_ITEM_DATA
   	     SET   
                   USER_NICKNAME    =  #{ user_nickname },
                   USER_PASSWORD    =  #{ user_password },
   	           USER_COMENT      =  #{ user_coment },
                   USER_EDITDATE    =  #{ user_EDITDATE}	     
   	    WHERE  ITEM_NO = #{item_no}
   
   </update>
   		
</mapper>